<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hearty Rabbit photo gallery">
    <title>Hearty Rabbit</title>

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">

    <link rel="stylesheet" href="gallery.css">
    <link rel="icon" href="logo.svg" type="image/svg+xml">
    <script src="hearty_rabbit.js"></script>
</head>
<body>
<div>
    <div class="header">
        <div class="pure-menu pure-menu-horizontal">
            <a class="pure-menu-heading" href="/" id="username"></a>

            <ul class="pure-menu-list">
                <li class="pure-menu-item pure-menu-selected"><a href="#" class="pure-menu-link">Home</a></li>
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">Blog</a></li>
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">About</a></li>
                <li class="pure-menu-item"><a href="/logout" class="pure-menu-link">Logout</a></li>
            </ul>
        </div>
    </div>

    <div id="hrb-entry-root" class="pure-g">
        <div class="pure-u-1 form-box">
            <div class="l-box">
                <h2>Upload File</h2>

                <input id="file-input" type="file" onchange="upload_file(this.files[0])">
            </div>
        </div>

        <div id="hrb-entry-prototype" class="photo-box pure-u-1 pure-u-md-1-2 pure-u-lg-1-3">
            <img
                    class="hrb-image"
                    src="logo.svg"
            >

            <aside class="photo-box-caption">
                <span class="hrb-caption">This is the caption</span>
            </aside>
        </div>

        <div class="pure-u-1">
            <div class="l-box">
                <h2>Creating a Photo Gallery Layout</h2>

                <p>
                    This page shows how to make a photo gallery using <a href="">Pure Grids</a>. Using Pure, we can create interesting layouts such as this photo gallery. This layout is fully responsive. We've added a bit of custom media queries on top of the responsive grid provided by Pure.
                </p>

                <p>
                    We've also taken advantage of <a href="">Pure Forms</a> and <a href="">Pure Menus</a>. This example uses a form with the <code>pure-form</code> class name to create an inline form. We use <a href="">Pure Buttons</a> for the button styling.
                </p>
            </div>
        </div>
    </div>

    <div class="footer">
        View the source of this layout to learn more. Made with love by the YUI Team.
    </div>
</div>

<script>
    function onload()
    {
        document.getElementById("username").textContent = dir.name;

        // create one new entry for each blob
        const proto = document.getElementById("hrb-entry-prototype");
        const root = document.getElementById("hrb-entry-root");

        dir.elements.forEach(element =>
        {
            console.log("here is a blob", element);
            const entry = proto.cloneNode(true);
            entry.id = "hrb-entry-" + element;
            entry.querySelector(".hrb-image").src = "/blob/" + element;
            root.insertBefore(entry, proto);
        });

        root.removeChild(proto);
    }
    onload();
</script>

</body>
</html>
